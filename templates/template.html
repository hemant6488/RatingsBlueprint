<!DOCTYPE html>
<html>
    <head><title>{{ data.productDetails.name }} - CasaOne</title></head>
    <body>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='rate.js') }}"></script>

    <div class="container">
        <h4>Hello {{ data.userDetails.name }}!</h4>
        <h5>Product Id: {{ data.productDetails.id }}</h5>
        <h5 style="margin-bottom: 30px!important;">Product: {{ data.productDetails.name }}</h5>
    </div>


    <!-- http://www.jquery2dotnet.com/ -->
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-md-6">
                <div class="well well-sm">
                    <div class="row">
                        <div class="col-xs-12 col-md-6 text-center">
                            <h1 class="rating-num">
                                <span id="average-rating">{{ data.averageRating }}</span> <span class="glyphicon glyphicon-star"></span></h1>

                            <div>
                                <span class="glyphicon glyphicon-user"></span>
                                <div id="total-ratings">{{ data.totalRatings }} Total Ratings</div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-6">
                            <div class="row rating-desc">
                                <div class="col-xs-3 col-md-3 text-right">
                                    <span class="glyphicon glyphicon-star"></span>5
                                </div>
                                <div class="col-xs-8 col-md-9">
                                    <div class="progress progress-striped">
                                        <div id="5-star-bar" class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="20"
                                            aria-valuemin="0" aria-valuemax="100" style="width: {{ data.ratingsBreakdown.5 }}%">
                                            <span id="5-star-text" class="sr-only">{{ data.ratingsBreakdown.5 }}%</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- end 5 -->
                                <div class="col-xs-3 col-md-3 text-right">
                                    <span class="glyphicon glyphicon-star"></span>4
                                </div>
                                <div class="col-xs-8 col-md-9">
                                    <div class="progress">
                                        <div id="4-star-bar" class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="20"
                                            aria-valuemin="0" aria-valuemax="100" style="width: {{ data.ratingsBreakdown.4 }}%">
                                            <span id="4-star-text" class="sr-only">{{ data.ratingsBreakdown.4 }}%</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- end 4 -->
                                <div class="col-xs-3 col-md-3 text-right">
                                    <span class="glyphicon glyphicon-star"></span>3
                                </div>
                                <div class="col-xs-8 col-md-9">
                                    <div class="progress">
                                        <div id="3-star-bar" class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="20"
                                            aria-valuemin="0" aria-valuemax="100" style="width: {{ data.ratingsBreakdown.3 }}%">
                                            <span id="3-star-text" class="sr-only">{{ data.ratingsBreakdown.3 }}%</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- end 3 -->
                                <div class="col-xs-3 col-md-3 text-right">
                                    <span class="glyphicon glyphicon-star"></span>2
                                </div>
                                <div class="col-xs-8 col-md-9">
                                    <div class="progress">
                                        <div id="2-star-bar" class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="20"
                                            aria-valuemin="0" aria-valuemax="100" style="width: {{ data.ratingsBreakdown.2 }}%">
                                            <span id="2-star-text" class="sr-only">{{ data.ratingsBreakdown.2 }}%</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- end 2 -->
                                <div class="col-xs-3 col-md-3 text-right">
                                    <span class="glyphicon glyphicon-star"></span>1
                                </div>
                                <div class="col-xs-8 col-md-9">
                                    <div class="progress">
                                        <div id="1-star-bar" class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="80"
                                            aria-valuemin="0" aria-valuemax="100" style="width: {{ data.ratingsBreakdown.1 }}%">
                                            <span id="1-star-text" class="sr-only">{{ data.ratingsBreakdown.1 }}%</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- end 1 -->
                            </div>
                            <!-- end row -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <input type="hidden" id="loggedInUserRating" name="userRating" value="{{ data.loggedInUserRating }}" />
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <div class="container" id="rating-ability-wrapper">
	    <label class="control-label" for="rating">
	    <span class="field-label-header">Rate the product!</span><br>
	    <span class="field-label-info"></span>
	    <input type="hidden" id="selected_rating" name="selected_rating" value="" required="required">
	    </label>
	    <h2 class="bold rating-header" style="">
	    <span class="selected-rating">0</span><small> / 5</small>
	    </h2>
	    <button type="button" class="btnrating btn btn-default btn-lg" data-attr="1" id="rating-star-1">
	        <i class="fa fa-star" aria-hidden="true"></i>
	    </button>
	    <button type="button" class="btnrating btn btn-default btn-lg" data-attr="2" id="rating-star-2">
	        <i class="fa fa-star" aria-hidden="true"></i>
	    </button>
	    <button type="button" class="btnrating btn btn-default btn-lg" data-attr="3" id="rating-star-3">
	        <i class="fa fa-star" aria-hidden="true"></i>
	    </button>
	    <button type="button" class="btnrating btn btn-default btn-lg" data-attr="4" id="rating-star-4">
	        <i class="fa fa-star" aria-hidden="true"></i>
	    </button>
	    <button type="button" class="btnrating btn btn-default btn-lg" data-attr="5" id="rating-star-5">
	        <i class="fa fa-star" aria-hidden="true"></i>
	    </button>

        <div id="message-display">

        </div>
	</div>

    <div class="container top-buffer">
        <button type="button" class="btn btn-danger" data-attr="5" id="remove-rating">
	        <i class="fa fa-trash-o" aria-hidden="true"> Delete Rating</i>
	    </button>
    </div>
    </body>
    <style>
        body{ margin-top:20px;}
        .glyphicon { margin-right:5px;}
        .rating .glyphicon {font-size: 22px;}
        .rating-num { margin-top:0px;font-size: 54px; }
        .progress { margin-bottom: 5px;}
        .progress-bar { text-align: left; }
        .rating-desc .col-md-3 {padding-right: 0px;}
        .sr-only { margin-left: 5px;overflow: visible;clip: auto; color:#2F4F4F; }
        .rating-header {
            margin-top: -10px;
            margin-bottom: 10px;
        }
        .top-buffer { margin-top:20px;}

    </style>
</html>